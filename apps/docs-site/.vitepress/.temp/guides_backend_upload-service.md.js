import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Upload Service (文件上传服务)","description":"","frontmatter":{"title":"Upload Service (文件上传服务)","type":"guide","project":"backend","owner":"dev-team","created":"2025-10-13","updated":"2025-10-14","publish":true,"tags":["guides","backend","upload","microservices"],"sidebar_label":"文件上传服务","sidebar_order":5,"sidebar_group":"guides-backend"},"headers":[],"relativePath":"guides/backend/upload-service.md","filePath":"guides/backend/upload-service.md","lastUpdated":1760420026000}');
const _sfc_main = { name: "guides/backend/upload-service.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="upload-service-文件上传服务" tabindex="-1">Upload Service (文件上传服务) <a class="header-anchor" href="#upload-service-文件上传服务" aria-label="Permalink to &quot;Upload Service (文件上传服务)&quot;">​</a></h1><h2 id="_1-服务说明" tabindex="-1">1. 服务说明 <a class="header-anchor" href="#_1-服务说明" aria-label="Permalink to &quot;1. 服务说明&quot;">​</a></h2><p>Upload Service是BTC Shop Flow 项目的<strong>文件上传服务</strong>，负责处理文件上传存储和管理功能</p><h3 id="主要职责" tabindex="-1">主要职责 <a class="header-anchor" href="#主要职责" aria-label="Permalink to &quot;主要职责&quot;">​</a></h3><ul><li>文件上传处理</li><li>文件存储管理（本地/云端）</li><li>图片压缩和裁剪</li><li>文件访问URL生成</li><li>文件元数据管理</li><li>支持阿里云OSS存储</li><li>支持腾讯云COS存储</li></ul><h2 id="_2-技术栈" tabindex="-1">2. 技术栈 <a class="header-anchor" href="#_2-技术栈" aria-label="Permalink to &quot;2. 技术栈&quot;">​</a></h2><h3 id="核心框架" tabindex="-1">核心框架 <a class="header-anchor" href="#核心框架" aria-label="Permalink to &quot;核心框架&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Boot</td><td>2.7.6</td><td>核心框架</td></tr><tr><td>Java</td><td>17</td><td>JDK版本</td></tr><tr><td>Maven</td><td>3.6+</td><td>项目构建工具</td></tr></tbody></table><h3 id="web层" tabindex="-1">Web层 <a class="header-anchor" href="#web层" aria-label="Permalink to &quot;Web层&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Web</td><td>2.7.6</td><td>REST API开发</td></tr><tr><td>Swagger</td><td>3.0.0</td><td>API文档生成</td></tr><tr><td>Springfox Boot Starter</td><td>3.0.0</td><td>Swagger集成</td></tr></tbody></table><h3 id="持久层" tabindex="-1">持久层 <a class="header-anchor" href="#持久层" aria-label="Permalink to &quot;持久层&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>MyBatis-Plus</td><td>3.4.1</td><td>MyBatis增强工具</td></tr><tr><td>Dynamic Datasource</td><td>3.5.2</td><td>动态多数据源</td></tr><tr><td>MySQL Connector</td><td>8.0.31</td><td>MySQL数据库驱动</td></tr><tr><td>Druid</td><td>1.0.18</td><td>阿里巴巴数据库连接池</td></tr></tbody></table><h3 id="微服务组件" tabindex="-1">微服务组件 <a class="header-anchor" href="#微服务组件" aria-label="Permalink to &quot;微服务组件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Nacos Discovery</td><td>2021.0.5.0</td><td>服务注册与发现</td></tr><tr><td>Nacos Config</td><td>2021.0.5.0</td><td>配置中心</td></tr><tr><td>OpenFeign</td><td>3.1.5</td><td>声明式服务调用</td></tr></tbody></table><h3 id="云存储集成" tabindex="-1">云存储集成 <a class="header-anchor" href="#云存储集成" aria-label="Permalink to &quot;云存储集成&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>阿里云OSS SDK</td><td>3.15.1</td><td>阿里云对象存储</td></tr><tr><td>腾讯云COS SDK</td><td>5.6.61</td><td>腾讯云对象存储</td></tr></tbody></table><h3 id="图片处理" tabindex="-1">图片处理 <a class="header-anchor" href="#图片处理" aria-label="Permalink to &quot;图片处理&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Thumbnailator</td><td>0.4.19</td><td>图片压缩和缩放库</td></tr><tr><td>ImageIO</td><td>JDK内置</td><td>Java图片处理API</td></tr></tbody></table><h3 id="工具库" tabindex="-1">工具库 <a class="header-anchor" href="#工具库" aria-label="Permalink to &quot;工具库&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Hutool All</td><td>5.8.16</td><td>Java工具类库</td></tr><tr><td>Lombok</td><td>1.18.24</td><td>简化Java代码</td></tr><tr><td>Jackson</td><td>2.13.0</td><td>JSON处理库</td></tr><tr><td>PageHelper</td><td>1.4.0</td><td>MyBatis分页插件</td></tr></tbody></table><h2 id="_3-模块结构" tabindex="-1">3. 模块结构 <a class="header-anchor" href="#_3-模块结构" aria-label="Permalink to &quot;3. 模块结构&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upload-service/</span></span>
<span class="line"><span>src/main/java/com/btc/uploadservice/</span></span>
<span class="line"><span>controller/ # 控制层</span></span>
<span class="line"><span>FileUploadController.java # 文件上传接口</span></span>
<span class="line"><span>service/ # 服务层</span></span>
<span class="line"><span>FileStorageService.java # 文件存储服务</span></span>
<span class="line"><span>OssService.java # OSS服务</span></span>
<span class="line"><span>CosService.java # COS服务</span></span>
<span class="line"><span>config/ # 配置类</span></span>
<span class="line"><span>OssConfig.java # OSS配置</span></span>
<span class="line"><span>CosConfig.java # COS配置</span></span>
<span class="line"><span>pojo/ # 实体类</span></span>
<span class="line"><span>FileInfo.java # 文件信息实体</span></span>
<span class="line"><span>util/ # 工具类</span></span>
<span class="line"><span>FileUtil.java # 文件处理工具</span></span>
<span class="line"><span>src/main/resources/</span></span>
<span class="line"><span>application.properties # 配置文件</span></span>
<span class="line"><span>static/ # 静态资源</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_4-核心功能" tabindex="-1">4. 核心功能 <a class="header-anchor" href="#_4-核心功能" aria-label="Permalink to &quot;4. 核心功能&quot;">​</a></h2><h3 id="_1-文件上传" tabindex="-1">1. 文件上传 <a class="header-anchor" href="#_1-文件上传" aria-label="Permalink to &quot;1. 文件上传&quot;">​</a></h3><ul><li>单文件上传</li><li>多文件批量上传</li><li>大文件分片上传</li><li>断点续传支持</li></ul><h3 id="_2-文件存储" tabindex="-1">2. 文件存储 <a class="header-anchor" href="#_2-文件存储" aria-label="Permalink to &quot;2. 文件存储&quot;">​</a></h3><ul><li><strong>本地存储</strong>: 文件保存到服务器本地</li><li><strong>阿里云OSS</strong>: 存储到阿里云对象存储</li><li><strong>腾讯云COS</strong>: 存储到腾讯云对象存储</li><li>存储策略可配置切换</li></ul><h3 id="_3-图片处理" tabindex="-1">3. 图片处理 <a class="header-anchor" href="#_3-图片处理" aria-label="Permalink to &quot;3. 图片处理&quot;">​</a></h3><ul><li>图片压缩</li><li>图片裁剪</li><li>缩略图生成</li><li>格式转换</li></ul><h3 id="_4-文件管理" tabindex="-1">4. 文件管理 <a class="header-anchor" href="#_4-文件管理" aria-label="Permalink to &quot;4. 文件管理&quot;">​</a></h3><ul><li>文件列表查询</li><li>文件信息查询</li><li>文件删除</li><li>文件访问URL生成</li></ul><h2 id="_5-api接口" tabindex="-1">5. API接口 <a class="header-anchor" href="#_5-api接口" aria-label="Permalink to &quot;5. API接口&quot;">​</a></h2><h3 id="文件上传接口" tabindex="-1">文件上传接口 <a class="header-anchor" href="#文件上传接口" aria-label="Permalink to &quot;文件上传接口&quot;">​</a></h3><ul><li><code>POST /api/upload/file</code> - 单文件上传</li><li><code>POST /api/upload/files</code> - 多文件上传</li><li><code>POST /api/upload/image</code> - 图片上传（带压缩）</li><li><code>POST /api/upload/chunk</code> - 分片上传</li></ul><h3 id="文件管理接口" tabindex="-1">文件管理接口 <a class="header-anchor" href="#文件管理接口" aria-label="Permalink to &quot;文件管理接口&quot;">​</a></h3><ul><li><code>GET /api/upload/list</code> - 文件列表</li><li><code>GET /api/upload/{id}</code> - 文件信息</li><li><code>DELETE /api/upload/{id}</code> - 删除文件</li><li><code>GET /api/upload/url/{id}</code> - 获取访问URL</li></ul><h2 id="_6-配置说明" tabindex="-1">6. 配置说明 <a class="header-anchor" href="#_6-配置说明" aria-label="Permalink to &quot;6. 配置说明&quot;">​</a></h2><h3 id="阿里云oss配置" tabindex="-1">阿里云OSS配置 <a class="header-anchor" href="#阿里云oss配置" aria-label="Permalink to &quot;阿里云OSS配置&quot;">​</a></h3><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">aliyun.oss.endpoint</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=oss-cn-hangzhou.aliyuncs.com</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">aliyun.oss.access-key-id</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=YOUR_ACCESS_KEY</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">aliyun.oss.access-key-secret</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=YOUR_SECRET_KEY</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">aliyun.oss.bucket-name</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=your-bucket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="腾讯云cos配置" tabindex="-1">腾讯云COS配置 <a class="header-anchor" href="#腾讯云cos配置" aria-label="Permalink to &quot;腾讯云COS配置&quot;">​</a></h3><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">tencent.cos.secret-id</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=YOUR_SECRET_ID</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">tencent.cos.secret-key</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=YOUR_SECRET_KEY</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">tencent.cos.region</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=ap-guangzhou</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">tencent.cos.bucket-name</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=your-bucket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="文件上传限制" tabindex="-1">文件上传限制 <a class="header-anchor" href="#文件上传限制" aria-label="Permalink to &quot;文件上传限制&quot;">​</a></h3><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">spring.servlet.multipart.max-file-size</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=100MB</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">spring.servlet.multipart.max-request-size</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=100MB</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_7-服务端口" tabindex="-1">7. 服务端口 <a class="header-anchor" href="#_7-服务端口" aria-label="Permalink to &quot;7. 服务端口&quot;">​</a></h2><ul><li><strong>默认端口</strong>: 未明确指定</li><li><strong>Nacos注册</strong>: upload-service</li></ul><h2 id="_8-服务依赖" tabindex="-1">8. 服务依赖 <a class="header-anchor" href="#_8-服务依赖" aria-label="Permalink to &quot;8. 服务依赖&quot;">​</a></h2><h3 id="外部服务" tabindex="-1">外部服务 <a class="header-anchor" href="#外部服务" aria-label="Permalink to &quot;外部服务&quot;">​</a></h3><ul><li><strong>Nacos</strong>: 服务注册中心</li><li><strong>阿里云OSS</strong>: 对象存储</li><li><strong>腾讯云COS</strong>: 对象存储（可选）</li><li><strong>MySQL</strong>: 文件元数据存储</li></ul><h2 id="_9-注意事项" tabindex="-1">9. 注意事项 <a class="header-anchor" href="#_9-注意事项" aria-label="Permalink to &quot;9. 注意事项&quot;">​</a></h2><ol><li><strong>文件大小限制</strong>: 根据业务需求配置合理的文件大小限制</li><li><strong>存储空间</strong>: 定期清理无用文件，避免存储空间不足</li><li><strong>安全控制</strong>: 验证文件类型，防止恶意文件上传</li><li><strong>访问权限</strong>: 控制文件访问权限，保护敏感数据</li><li><strong>CDN加速</strong>: 生产环境建议配置CDN加速文件访问</li></ol></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("guides/backend/upload-service.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const uploadService = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  uploadService as default
};
