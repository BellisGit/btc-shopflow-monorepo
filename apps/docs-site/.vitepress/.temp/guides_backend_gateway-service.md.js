import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Gateway Service (网关服务)","description":"","frontmatter":{"title":"Gateway Service (网关服务)","type":"guide","project":"backend","owner":"dev-team","created":"2025-10-13","updated":"2025-10-14","publish":true,"tags":["guides","backend","gateway","microservices"],"sidebar_label":"网关服务","sidebar_order":2,"sidebar_group":"guides-backend"},"headers":[],"relativePath":"guides/backend/gateway-service.md","filePath":"guides/backend/gateway-service.md","lastUpdated":1760420026000}');
const _sfc_main = { name: "guides/backend/gateway-service.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="gateway-service-网关服务" tabindex="-1">Gateway Service (网关服务) <a class="header-anchor" href="#gateway-service-网关服务" aria-label="Permalink to &quot;Gateway Service (网关服务)&quot;">​</a></h1><h2 id="_1-服务说明" tabindex="-1">1. 服务说明 <a class="header-anchor" href="#_1-服务说明" aria-label="Permalink to &quot;1. 服务说明&quot;">​</a></h2><p>Gateway Service是BTC Shop Flow 项目的<strong>API网关服务</strong>，作为系统的统一入口，负责请求路由负载均衡安全认证限流熔断等功能</p><h3 id="主要职责" tabindex="-1">主要职责 <a class="header-anchor" href="#主要职责" aria-label="Permalink to &quot;主要职责&quot;">​</a></h3><ul><li>统一API入口和路由转发</li><li>服务负载均衡</li><li>安全认证和授权</li><li>接口限流和熔断</li><li>跨域处理（CORS）</li><li>日志记录和监控</li><li>API文档聚合</li></ul><h2 id="_2-技术栈" tabindex="-1">2. 技术栈 <a class="header-anchor" href="#_2-技术栈" aria-label="Permalink to &quot;2. 技术栈&quot;">​</a></h2><h3 id="核心框架" tabindex="-1">核心框架 <a class="header-anchor" href="#核心框架" aria-label="Permalink to &quot;核心框架&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Boot</td><td>2.7.6</td><td>核心框架</td></tr><tr><td>Spring Cloud</td><td>2021.0.5</td><td>微服务框架</td></tr><tr><td>Java</td><td>17</td><td>JDK版本</td></tr><tr><td>Maven</td><td>3.6+</td><td>项目构建工具</td></tr></tbody></table><h3 id="网关组件" tabindex="-1">网关组件 <a class="header-anchor" href="#网关组件" aria-label="Permalink to &quot;网关组件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Cloud Gateway</td><td>3.1.4</td><td>响应式API网关</td></tr><tr><td>Spring WebFlux</td><td>5.3.24</td><td>响应式Web框架</td></tr><tr><td>Reactor Core</td><td>3.4.25</td><td>响应式编程核心库</td></tr></tbody></table><p><strong>功能特性</strong>:</p><ul><li>动态路由配置</li><li>过滤器链机制</li><li>断言工厂</li><li>负载均衡</li></ul><h3 id="微服务组件" tabindex="-1">微服务组件 <a class="header-anchor" href="#微服务组件" aria-label="Permalink to &quot;微服务组件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Nacos Discovery</td><td>2021.0.5.0</td><td>服务注册与发现</td></tr><tr><td>Nacos Config</td><td>2021.0.5.0</td><td>动态配置中心</td></tr><tr><td>Spring Cloud LoadBalancer</td><td>3.1.4</td><td>客户端负载均衡</td></tr></tbody></table><h3 id="安全认证" tabindex="-1">安全认证 <a class="header-anchor" href="#安全认证" aria-label="Permalink to &quot;安全认证&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Security</td><td>5.7.5</td><td>Spring安全框架</td></tr><tr><td>Spring OAuth2 Client</td><td>5.7.5</td><td>OAuth2客户端</td></tr><tr><td>Spring OAuth2 Resource Server</td><td>5.7.5</td><td>OAuth2资源服务器</td></tr><tr><td>Keycloak Adapter</td><td>21.1.2</td><td>Keycloak身份认证集成</td></tr></tbody></table><h3 id="限流熔断" tabindex="-1">限流熔断 <a class="header-anchor" href="#限流熔断" aria-label="Permalink to &quot;限流熔断&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Data Redis</td><td>2.7.6</td><td>Redis集成（分布式限流）</td></tr><tr><td>Lettuce</td><td>6.2.1.RELEASE</td><td>Redis客户端</td></tr><tr><td>Bucket4j</td><td>7.6.0 (可选)</td><td>令牌桶限流算法</td></tr></tbody></table><h3 id="数据库" tabindex="-1">数据库 <a class="header-anchor" href="#数据库" aria-label="Permalink to &quot;数据库&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>MySQL Connector</td><td>8.0.31</td><td>MySQL数据库驱动</td></tr><tr><td>MyBatis-Flex</td><td>1.11.1</td><td>持久层框架（存储网关配置）</td></tr></tbody></table><h3 id="api文档" tabindex="-1">API文档 <a class="header-anchor" href="#api文档" aria-label="Permalink to &quot;API文档&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Knife4j</td><td>2.0.2</td><td>API文档聚合展示</td></tr><tr><td>Swagger</td><td>3.0.0</td><td>API规范和文档生成</td></tr></tbody></table><h3 id="工具库" tabindex="-1">工具库 <a class="header-anchor" href="#工具库" aria-label="Permalink to &quot;工具库&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Lombok</td><td>1.18.24</td><td>简化Java代码</td></tr><tr><td>Hutool</td><td>5.8.16</td><td>Java工具类库</td></tr><tr><td>Sa-Token</td><td>1.44.0</td><td>权限认证框架</td></tr></tbody></table><h2 id="_3-模块结构" tabindex="-1">3. 模块结构 <a class="header-anchor" href="#_3-模块结构" aria-label="Permalink to &quot;3. 模块结构&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gateway-service/</span></span>
<span class="line"><span>src/main/java/com/btc/gatewayservice/</span></span>
<span class="line"><span>config/ # 配置类</span></span>
<span class="line"><span>CorsConfig.java # 跨域配置</span></span>
<span class="line"><span>RateLimitConfig.java # 限流配置</span></span>
<span class="line"><span>RateLimitFilterConfig.java # 限流过滤器</span></span>
<span class="line"><span>RedisConfig.java # Redis配置</span></span>
<span class="line"><span>SwaggerConfig.java # Swagger配置</span></span>
<span class="line"><span>filter/ # 网关过滤器</span></span>
<span class="line"><span>AuthGlobalFilter.java # 认证过滤器</span></span>
<span class="line"><span>LogGlobalFilter.java # 日志过滤器</span></span>
<span class="line"><span>RateLimitGatewayFilter.java # 限流过滤器</span></span>
<span class="line"><span>handler/ # 处理器</span></span>
<span class="line"><span>CustomExceptionHandler.java # 异常处理</span></span>
<span class="line"><span>GatewayServiceApplication.java # 启动类</span></span>
<span class="line"><span>src/main/resources/</span></span>
<span class="line"><span>application.yml # 主配置文件</span></span>
<span class="line"><span>application-dev.yml # 开发环境配置</span></span>
<span class="line"><span>banner.txt # 启动横幅</span></span>
<span class="line"><span>static/ # 静态资源</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_4-核心功能" tabindex="-1">4. 核心功能 <a class="header-anchor" href="#_4-核心功能" aria-label="Permalink to &quot;4. 核心功能&quot;">​</a></h2><h3 id="_1-路由转发" tabindex="-1">1. 路由转发 <a class="header-anchor" href="#_1-路由转发" aria-label="Permalink to &quot;1. 路由转发&quot;">​</a></h3><p>动态路由配置，支持：</p><ul><li>基于路径的路由</li><li>基于服务名的路由</li><li>负载均衡策略</li><li>路由权重配置</li></ul><h3 id="_2-安全认证" tabindex="-1">2. 安全认证 <a class="header-anchor" href="#_2-安全认证" aria-label="Permalink to &quot;2. 安全认证&quot;">​</a></h3><ul><li>OAuth2认证</li><li>Keycloak集成</li><li>JWT令牌验证</li><li>权限拦截</li></ul><h3 id="_3-限流保护" tabindex="-1">3. 限流保护 <a class="header-anchor" href="#_3-限流保护" aria-label="Permalink to &quot;3. 限流保护&quot;">​</a></h3><ul><li>基于Redis的分布式限流</li><li>IP限流</li><li>用户限流</li><li>接口限流</li><li>令牌桶算法</li></ul><h3 id="_4-跨域处理" tabindex="-1">4. 跨域处理 <a class="header-anchor" href="#_4-跨域处理" aria-label="Permalink to &quot;4. 跨域处理&quot;">​</a></h3><ul><li>全局CORS配置</li><li>支持预检请求</li><li>自定义跨域规则</li></ul><h3 id="_5-日志监控" tabindex="-1">5. 日志监控 <a class="header-anchor" href="#_5-日志监控" aria-label="Permalink to &quot;5. 日志监控&quot;">​</a></h3><ul><li>请求日志记录</li><li>响应时间统计</li><li>错误日志追踪</li></ul><h2 id="_5-配置说明" tabindex="-1">5. 配置说明 <a class="header-anchor" href="#_5-配置说明" aria-label="Permalink to &quot;5. 配置说明&quot;">​</a></h2><h3 id="路由配置示例" tabindex="-1">路由配置示例 <a class="header-anchor" href="#路由配置示例" aria-label="Permalink to &quot;路由配置示例&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">spring</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">cloud</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">gateway</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">routes</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">- </span><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">id</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">system-service</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">uri</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">lb://systemService</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">predicates</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">- </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">Path=/api/user/**</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">filters</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">- </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">StripPrefix=1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="限流配置" tabindex="-1">限流配置 <a class="header-anchor" href="#限流配置" aria-label="Permalink to &quot;限流配置&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># Redis限流配置</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">rate-limit</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">enabled</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">true</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">default-capacity</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">100</span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"> # 默认容量</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">default-tokens</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">10</span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"> # 每次请求消耗令牌数</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">default-refill-period</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">1s</span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"> # 令牌刷新周期</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="nacos配置" tabindex="-1">Nacos配置 <a class="header-anchor" href="#nacos配置" aria-label="Permalink to &quot;Nacos配置&quot;">​</a></h3><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">spring.cloud.nacos.server-addr</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=127.0.0.1:8848</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">spring.cloud.nacos.config.file-extension</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">=yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_6-路由规则" tabindex="-1">6. 路由规则 <a class="header-anchor" href="#_6-路由规则" aria-label="Permalink to &quot;6. 路由规则&quot;">​</a></h2><h3 id="当前路由配置" tabindex="-1">当前路由配置 <a class="header-anchor" href="#当前路由配置" aria-label="Permalink to &quot;当前路由配置&quot;">​</a></h3><ul><li><code>/api/user/**</code> system-service（用户系统服务）</li><li><code>/api/admin/**</code> admin-service（管理服务）</li><li><code>/api/supplier/**</code> supplier-service（供应商服务）</li><li><code>/api/upload/**</code> upload-service（上传服务）</li><li><code>/api/search/**</code> search-service（搜索服务）</li><li><code>/api/notice/**</code> notice-service（通知服务）</li><li><code>/api/dispatch/**</code> dispatch-service（调度服务）</li></ul><h2 id="_7-服务端口" tabindex="-1">7. 服务端口 <a class="header-anchor" href="#_7-服务端口" aria-label="Permalink to &quot;7. 服务端口&quot;">​</a></h2><ul><li><strong>默认端口</strong>: 未在配置中明确指定（通常8080）</li><li><strong>Nacos注册</strong>: gateway-service</li></ul><h2 id="_8-安全机制" tabindex="-1">8. 安全机制 <a class="header-anchor" href="#_8-安全机制" aria-label="Permalink to &quot;8. 安全机制&quot;">​</a></h2><h3 id="认证流程" tabindex="-1">认证流程 <a class="header-anchor" href="#认证流程" aria-label="Permalink to &quot;认证流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端请求 Gateway 认证过滤器 Keycloak验证 后端服务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Token验证</span></span>
<span class="line"><span></span></span>
<span class="line"><span>权限检查</span></span>
<span class="line"><span></span></span>
<span class="line"><span>限流检查</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="过滤器链" tabindex="-1">过滤器链 <a class="header-anchor" href="#过滤器链" aria-label="Permalink to &quot;过滤器链&quot;">​</a></h3><ol><li><strong>AuthGlobalFilter</strong>: 认证过滤</li><li><strong>RateLimitGatewayFilter</strong>: 限流过滤</li><li><strong>LogGlobalFilter</strong>: 日志过滤</li><li><strong>StripPrefix</strong>: 去除路径前缀</li></ol><h2 id="_9-限流策略" tabindex="-1">9. 限流策略 <a class="header-anchor" href="#_9-限流策略" aria-label="Permalink to &quot;9. 限流策略&quot;">​</a></h2><h3 id="ip限流" tabindex="-1">IP限流 <a class="header-anchor" href="#ip限流" aria-label="Permalink to &quot;IP限流&quot;">​</a></h3><ul><li>每IP每秒最多100次请求</li><li>超出限制返回429状态码</li></ul><h3 id="接口限流" tabindex="-1">接口限流 <a class="header-anchor" href="#接口限流" aria-label="Permalink to &quot;接口限流&quot;">​</a></h3><ul><li>根据接口路径配置不同限流策略</li><li>支持动态调整限流参数</li></ul><h3 id="用户限流" tabindex="-1">用户限流 <a class="header-anchor" href="#用户限流" aria-label="Permalink to &quot;用户限流&quot;">​</a></h3><ul><li>根据用户ID进行限流</li><li>防止单用户滥用</li></ul><h2 id="_10-服务依赖" tabindex="-1">10. 服务依赖 <a class="header-anchor" href="#_10-服务依赖" aria-label="Permalink to &quot;10. 服务依赖&quot;">​</a></h2><h3 id="内部服务依赖" tabindex="-1">内部服务依赖 <a class="header-anchor" href="#内部服务依赖" aria-label="Permalink to &quot;内部服务依赖&quot;">​</a></h3><ul><li>所有微服务（通过路由转发）</li></ul><h3 id="外部服务依赖" tabindex="-1">外部服务依赖 <a class="header-anchor" href="#外部服务依赖" aria-label="Permalink to &quot;外部服务依赖&quot;">​</a></h3><ul><li><strong>Nacos</strong>: 服务发现（127.0.0.1:8848）</li><li><strong>Keycloak</strong>: 认证服务（10.80.9.76:8080）</li><li><strong>Redis</strong>: 限流存储（127.0.0.1:6379）</li><li><strong>MySQL</strong>: 网关配置存储</li></ul><h2 id="_11-注意事项" tabindex="-1">11. 注意事项 <a class="header-anchor" href="#_11-注意事项" aria-label="Permalink to &quot;11. 注意事项&quot;">​</a></h2><ol><li><strong>网关性能</strong>: 作为统一入口，需确保高性能和高可用</li><li><strong>限流配置</strong>: 根据实际业务量调整限流参数</li><li><strong>认证配置</strong>: 确保Keycloak配置正确</li><li><strong>Redis连接</strong>: 限流功能依赖Redis，需确保连接正常</li><li><strong>路由更新</strong>: 支持动态路由，可通过Nacos配置中心更新</li></ol><h2 id="docker支持" tabindex="-1">Docker支持 <a class="header-anchor" href="#docker支持" aria-label="Permalink to &quot;Docker支持&quot;">​</a></h2><p>提供Dockerfile支持容器化部署：</p><div class="language-dockerfile vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">FROM</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> openjdk:17-jdk-slim</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">VOLUME</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> /tmp</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">COPY</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> target/*.jar app.jar</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">ENTRYPOINT</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> [</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;java&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;-jar&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;/app.jar&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_12-相关文档" tabindex="-1">12. 相关文档 <a class="header-anchor" href="#_12-相关文档" aria-label="Permalink to &quot;12. 相关文档&quot;">​</a></h2><ul><li>Spring Cloud Gateway官方文档: <a href="https://spring.io/projects/spring-cloud-gateway" target="_blank" rel="noreferrer">https://spring.io/projects/spring-cloud-gateway</a></li><li>Nacos官方文档: <a href="https://nacos.io" target="_blank" rel="noreferrer">https://nacos.io</a></li><li>Keycloak官方文档: <a href="https://www.keycloak.org" target="_blank" rel="noreferrer">https://www.keycloak.org</a></li></ul></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("guides/backend/gateway-service.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const gatewayService = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  gatewayService as default
};
