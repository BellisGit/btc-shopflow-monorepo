import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"主应用（Main App）","description":"","frontmatter":{"title":"主应用（Main App）","type":"overview","project":"main-app","owner":"dev-team","created":"2025-10-14","updated":"2025-10-14","publish":true,"tags":["overview","main-app","micro-frontend"],"sidebar_label":"主应用说明","sidebar_order":4,"sidebar_group":"overview"},"headers":[],"relativePath":"overview/main-app-readme.md","filePath":"overview/main-app-readme.md","lastUpdated":1760420026000}');
const _sfc_main = { name: "overview/main-app-readme.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="主应用-main-app" tabindex="-1">主应用（Main App） <a class="header-anchor" href="#主应用-main-app" aria-label="Permalink to &quot;主应用（Main App）&quot;">​</a></h1><p><strong>角色</strong>：微前端架构的主应用（基座应用）+ 系统管理功能</p><hr><h2 id="功能概览" tabindex="-1">功能概览 <a class="header-anchor" href="#功能概览" aria-label="Permalink to &quot;功能概览&quot;">​</a></h2><h3 id="系统管理-5大业务模块" tabindex="-1">系统管理（5大业务模块） <a class="header-anchor" href="#系统管理-5大业务模块" aria-label="Permalink to &quot;系统管理（5大业务模块）&quot;">​</a></h3><h4 id="_1-平台治理" tabindex="-1">1. 平台治理 <a class="header-anchor" href="#_1-平台治理" aria-label="Permalink to &quot;1. 平台治理&quot;">​</a></h4><ul><li><strong>域管理</strong>：多租户域划分</li><li><strong>模块管理</strong>：系统功能模块管理</li><li><strong>插件管理</strong>：可扩展插件管理</li></ul><h4 id="_2-组织与账号" tabindex="-1">2. 组织与账号 <a class="header-anchor" href="#_2-组织与账号" aria-label="Permalink to &quot;2. 组织与账号&quot;">​</a></h4><ul><li><strong>租户管理</strong>：多租户配置</li><li><strong>部门管理</strong>：组织架构管理</li><li><strong>用户管理</strong>：用户账号管理</li><li><strong>部门角色绑定</strong>：批量绑定部门角色</li><li><strong>用户角色分配</strong>：为用户分配角色</li></ul><h4 id="_3-访问控制" tabindex="-1">3. 访问控制 <a class="header-anchor" href="#_3-访问控制" aria-label="Permalink to &quot;3. 访问控制&quot;">​</a></h4><ul><li><strong>资源管理</strong>：系统资源定义</li><li><strong>行为管理</strong>：操作行为定义</li><li><strong>权限管理</strong>：资源×行为权限组合</li><li><strong>角色管理</strong>：角色定义与管理</li><li><strong>策略管理</strong>：RBAC/ABAC 策略配置</li><li><strong>角色权限绑定</strong>：为角色分配权限</li><li><strong>权限组合工具</strong>：批量生成权限（资源×行为）</li></ul><h4 id="_4-导航与可见性" tabindex="-1">4. 导航与可见性 <a class="header-anchor" href="#_4-导航与可见性" aria-label="Permalink to &quot;4. 导航与可见性&quot;">​</a></h4><ul><li><strong>菜单管理</strong>：系统菜单配置</li><li><strong>菜单权限绑定</strong>：菜单可见性控制</li><li><strong>菜单预览</strong>：按用户/角色预览菜单树</li></ul><h4 id="_5-运维与审计" tabindex="-1">5. 运维与审计 <a class="header-anchor" href="#_5-运维与审计" aria-label="Permalink to &quot;5. 运维与审计&quot;">​</a></h4><ul><li><strong>操作日志</strong>：系统审计日志</li><li><strong>权限基线</strong>：权限快照与对比</li><li><strong>策略模拟器</strong>：权限策略测试工具</li></ul><hr><h2 id="目录结构" tabindex="-1">目录结构 <a class="header-anchor" href="#目录结构" aria-label="Permalink to &quot;目录结构&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>apps/main-app/</span></span>
<span class="line"><span>src/</span></span>
<span class="line"><span>pages/</span></span>
<span class="line"><span>platform/ # 平台治理</span></span>
<span class="line"><span>domains/</span></span>
<span class="line"><span>modules/</span></span>
<span class="line"><span>plugins/</span></span>
<span class="line"><span>org/ # 组织与账号</span></span>
<span class="line"><span>tenants/</span></span>
<span class="line"><span>departments/</span></span>
<span class="line"><span>users/</span></span>
<span class="line"><span>dept-role-bind/</span></span>
<span class="line"><span>user-role-assign/</span></span>
<span class="line"><span>access/ # 访问控制</span></span>
<span class="line"><span>resources/</span></span>
<span class="line"><span>actions/</span></span>
<span class="line"><span>permissions/</span></span>
<span class="line"><span>roles/</span></span>
<span class="line"><span>policies/</span></span>
<span class="line"><span>role-perm-bind/</span></span>
<span class="line"><span>perm-compose/</span></span>
<span class="line"><span>navigation/ # 导航与可见性</span></span>
<span class="line"><span>menus/</span></span>
<span class="line"><span>menu-perm-bind/</span></span>
<span class="line"><span>menu-preview/</span></span>
<span class="line"><span>ops/ # 运维与审计</span></span>
<span class="line"><span>audit/</span></span>
<span class="line"><span>baseline/</span></span>
<span class="line"><span>simulator/</span></span>
<span class="line"><span>layout/ # 布局组件</span></span>
<span class="line"><span>router/ # 路由配置</span></span>
<span class="line"><span>store/ # 状态管理</span></span>
<span class="line"><span>micro/ # 微前端配置</span></span>
<span class="line"><span>utils/</span></span>
<span class="line"><span>mock.ts # Mock数据服务</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><hr><h2 id="启动方式" tabindex="-1">启动方式 <a class="header-anchor" href="#启动方式" aria-label="Permalink to &quot;启动方式&quot;">​</a></h2><h3 id="开发模式" tabindex="-1">开发模式 <a class="header-anchor" href="#开发模式" aria-label="Permalink to &quot;开发模式&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 从根目录</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">cd</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> btc-shopflow-monorepo</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --filter</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> main-app</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 或直接在 main-app 目录</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">cd</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> apps/main-app</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>访问：<a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a></p><h3 id="生产构建" tabindex="-1">生产构建 <a class="header-anchor" href="#生产构建" aria-label="Permalink to &quot;生产构建&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --filter</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> main-app</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><hr><h2 id="mock-数据说明" tabindex="-1">Mock 数据说明 <a class="header-anchor" href="#mock-数据说明" aria-label="Permalink to &quot;Mock 数据说明&quot;">​</a></h2><h3 id="使用-mock-的页面" tabindex="-1">使用 Mock 的页面 <a class="header-anchor" href="#使用-mock-的页面" aria-label="Permalink to &quot;使用 Mock 的页面&quot;">​</a></h3><p>以下页面暂时使用 Mock 数据（<code>utils/mock.ts</code>）：</p><p><strong>权限相关</strong>（4个）：</p><ul><li><code>/access/permissions</code> - 权限列表</li><li><code>/access/policies</code> - 策略列表</li><li><code>/access/role-perm-bind/:id</code> - 角色权限绑定</li><li><code>/navigation/menu-perm-bind/:id</code> - 菜单权限绑定</li></ul><p><strong>组织绑定</strong>（2个）：</p><ul><li><code>/org/dept-role-bind/:id</code> - 部门角色绑定</li><li><code>/org/user-role-assign/:id</code> - 用户角色分配</li></ul><p><strong>高级功能</strong>（5个）：</p><ul><li><code>/access/perm-compose</code> - 权限组合工具</li><li><code>/navigation/menu-preview</code> - 菜单预览</li><li><code>/ops/audit</code> - 操作日志</li><li><code>/ops/baseline</code> - 权限基线</li><li><code>/ops/simulator</code> - 策略模拟器</li></ul><h3 id="mock-数据存储" tabindex="-1">Mock 数据存储 <a class="header-anchor" href="#mock-数据存储" aria-label="Permalink to &quot;Mock 数据存储&quot;">​</a></h3><ul><li><strong>位置</strong>：<code>localStorage</code></li><li><strong>前缀</strong>：<code>btc_</code></li><li><strong>数据格式</strong>：JSON</li></ul><h3 id="切换到真实api" tabindex="-1">切换到真实API <a class="header-anchor" href="#切换到真实api" aria-label="Permalink to &quot;切换到真实API&quot;">​</a></h3><p>只需修改页面的 service 引用：</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// 从</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> createMockCrudService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&#39;btc_permissions&#39;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">);</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// 改为</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">const</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> createCrudService</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&#39;permission&#39;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr><h2 id="相关文档" tabindex="-1">相关文档 <a class="header-anchor" href="#相关文档" aria-label="Permalink to &quot;相关文档&quot;">​</a></h2><ul><li><a href="/internal/archive/adr/system/2025-10-12-system-menu-restructure">菜单重构ADR</a> - 设计决策</li><li><a href="/internal/archive/changelog/forms-completion-report">表单系统完成报告</a> - 表单组件</li><li><a href="/internal/archive/components/">全局组件清单</a> - 可用组件</li></ul><hr><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><ul><li><strong>框架</strong>：Vue 3 + TypeScript + Vite</li><li><strong>UI组件</strong>：Element Plus</li><li><strong>微前端</strong>：Qiankun</li><li><strong>状态管理</strong>：Pinia</li><li><strong>路由</strong>：Vue Router 4</li><li><strong>国际化</strong>：@btc/shared-core (i18n插件)</li><li><strong>CRUD组件</strong>：BtcCrud + BtcUpsert</li></ul><hr><h2 id="页面统计" tabindex="-1">页面统计 <a class="header-anchor" href="#页面统计" aria-label="Permalink to &quot;页面统计&quot;">​</a></h2><ul><li><strong>总页面数</strong>：23</li><li><strong>使用Mock</strong>：11</li><li><strong>真实API</strong>：12（主要是迁移的原有页面）</li><li><strong>绑定管理</strong>：4</li><li><strong>高级工具</strong>：5</li></ul></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("overview/main-app-readme.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const mainAppReadme = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  mainAppReadme as default
};
