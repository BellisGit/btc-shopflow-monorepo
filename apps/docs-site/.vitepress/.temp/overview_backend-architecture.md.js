import { ssrRenderAttrs } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"后端架构概览","description":"","frontmatter":{"title":"后端架构概览","type":"overview","project":"backend","owner":"dev-team","created":"2025-10-14","updated":"2025-10-14","publish":true,"tags":["overview","backend","architecture","microservices"],"sidebar_label":"后端架构","sidebar_order":5,"sidebar_group":"overview"},"headers":[],"relativePath":"overview/backend-architecture.md","filePath":"overview/backend-architecture.md","lastUpdated":1760420026000}');
const _sfc_main = { name: "overview/backend-architecture.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="后端架构概览" tabindex="-1">后端架构概览 <a class="header-anchor" href="#后端架构概览" aria-label="Permalink to &quot;后端架构概览&quot;">​</a></h1><p>BTC Shop Flow 采用基于 <strong>Spring Cloud 微服务架构</strong> 的企业级 SaaS 平台，支持多租户分布式部署高并发处理</p><h2 id="架构特点" tabindex="-1">架构特点 <a class="header-anchor" href="#架构特点" aria-label="Permalink to &quot;架构特点&quot;">​</a></h2><ul><li><strong>微服务架构</strong>: 基于 Spring Cloud 的分布式微服务</li><li><strong>安全认证</strong>: Keycloak + OAuth2 + Sa-Token 多重安全保障</li><li><strong>异步处理</strong>: 基于 RabbitMQ 的异步数据操作</li><li><strong>数据持久化</strong>: MyBatis-Flex 高性能 ORM</li><li><strong>全文搜索</strong>: Elasticsearch 搜索引擎</li><li><strong>多租户</strong>: 完整的多租户隔离方案</li><li><strong>API网关</strong>: 统一的 API 入口和路由</li><li><strong>高性能</strong>: Redis 缓存 + 限流 + 熔断</li></ul><h2 id="核心服务" tabindex="-1">核心服务 <a class="header-anchor" href="#核心服务" aria-label="Permalink to &quot;核心服务&quot;">​</a></h2><h3 id="_1-gateway-service-网关服务" tabindex="-1">1. Gateway Service (网关服务) <a class="header-anchor" href="#_1-gateway-service-网关服务" aria-label="Permalink to &quot;1. Gateway Service (网关服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8080</li><li><strong>职责</strong>: API 网关路由转发安全认证限流熔断</li><li><strong>技术</strong>: Spring Cloud Gateway + OAuth2 + Redis</li></ul><h3 id="_2-system-service-系统服务" tabindex="-1">2. System Service (系统服务) <a class="header-anchor" href="#_2-system-service-系统服务" aria-label="Permalink to &quot;2. System Service (系统服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8100</li><li><strong>职责</strong>: 用户管理权限管理菜单管理租户管理</li><li><strong>技术</strong>: Keycloak + MyBatis-Flex + Redis + RabbitMQ</li></ul><h3 id="_3-admin-service-管理服务" tabindex="-1">3. Admin Service (管理服务) <a class="header-anchor" href="#_3-admin-service-管理服务" aria-label="Permalink to &quot;3. Admin Service (管理服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8200</li><li><strong>职责</strong>: 系统配置数据统计系统监控</li><li><strong>技术</strong>: Spring Boot + Common Module + Sa-Token</li></ul><h3 id="_4-upload-service-上传服务" tabindex="-1">4. Upload Service (上传服务) <a class="header-anchor" href="#_4-upload-service-上传服务" aria-label="Permalink to &quot;4. Upload Service (上传服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8400</li><li><strong>职责</strong>: 文件上传云存储集成图片处理</li><li><strong>技术</strong>: 阿里云 OSS + 腾讯云 COS + Thumbnailator</li></ul><h3 id="_5-search-service-搜索服务" tabindex="-1">5. Search Service (搜索服务) <a class="header-anchor" href="#_5-search-service-搜索服务" aria-label="Permalink to &quot;5. Search Service (搜索服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8500</li><li><strong>职责</strong>: 全文搜索智能推荐搜索统计</li><li><strong>技术</strong>: Elasticsearch + Spring Data Elasticsearch</li></ul><h3 id="_6-notice-service-通知服务" tabindex="-1">6. Notice Service (通知服务) <a class="header-anchor" href="#_6-notice-service-通知服务" aria-label="Permalink to &quot;6. Notice Service (通知服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8600</li><li><strong>职责</strong>: 消息通知邮件发送短信发送实时推送</li><li><strong>技术</strong>: WebSocket + JavaMail + Spring Boot</li></ul><h3 id="_7-dispatch-service-调度服务" tabindex="-1">7. Dispatch Service (调度服务) <a class="header-anchor" href="#_7-dispatch-service-调度服务" aria-label="Permalink to &quot;7. Dispatch Service (调度服务)&quot;">​</a></h3><ul><li><strong>端口</strong>: 8700/9999</li><li><strong>职责</strong>: 定时任务调度任务监控失败重试</li><li><strong>技术</strong>: XXL-Job</li></ul><h3 id="_8-common-module-公共模块" tabindex="-1">8. Common Module (公共模块) <a class="header-anchor" href="#_8-common-module-公共模块" aria-label="Permalink to &quot;8. Common Module (公共模块)&quot;">​</a></h3><ul><li><strong>职责</strong>: 通用 CRUD 基类异步操作消息队列集成</li><li><strong>技术</strong>: MyBatis-Flex + RabbitMQ + Jackson</li></ul><h2 id="技术栈概览" tabindex="-1">技术栈概览 <a class="header-anchor" href="#技术栈概览" aria-label="Permalink to &quot;技术栈概览&quot;">​</a></h2><h3 id="后端核心框架" tabindex="-1">后端核心框架 <a class="header-anchor" href="#后端核心框架" aria-label="Permalink to &quot;后端核心框架&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Spring Boot</td><td>2.7.6</td><td>核心应用框架</td></tr><tr><td>Spring Cloud</td><td>2021.0.5</td><td>微服务框架</td></tr><tr><td>Spring Cloud Gateway</td><td>3.1.4</td><td>API网关</td></tr><tr><td>Java</td><td>17</td><td>JDK版本</td></tr></tbody></table><h3 id="微服务组件" tabindex="-1">微服务组件 <a class="header-anchor" href="#微服务组件" aria-label="Permalink to &quot;微服务组件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Nacos Discovery</td><td>2021.0.5.0</td><td>服务注册与发现</td></tr><tr><td>Nacos Config</td><td>2021.0.5.0</td><td>配置中心</td></tr><tr><td>OpenFeign</td><td>3.1.5</td><td>声明式服务调用</td></tr><tr><td>RabbitMQ Client</td><td>5.16.0</td><td>消息队列客户端</td></tr></tbody></table><h3 id="数据层" tabindex="-1">数据层 <a class="header-anchor" href="#数据层" aria-label="Permalink to &quot;数据层&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>MyBatis-Flex</td><td>1.11.1</td><td>高性能ORM框架</td></tr><tr><td>MySQL Connector</td><td>8.0.31</td><td>MySQL数据库驱动</td></tr><tr><td>Spring Data Redis</td><td>2.7.6</td><td>Redis集成</td></tr><tr><td>Elasticsearch Client</td><td>7.17.7</td><td>搜索引擎客户端</td></tr></tbody></table><h3 id="安全认证" tabindex="-1">安全认证 <a class="header-anchor" href="#安全认证" aria-label="Permalink to &quot;安全认证&quot;">​</a></h3><table tabindex="0"><thead><tr><th>技术</th><th>版本</th><th>说明</th></tr></thead><tbody><tr><td>Keycloak Spring Boot Starter</td><td>21.1.2</td><td>Keycloak集成</td></tr><tr><td>Spring OAuth2 Client</td><td>5.7.5</td><td>OAuth2客户端</td></tr><tr><td>Sa-Token Spring Boot Starter</td><td>1.44.0</td><td>轻量级权限认证框架</td></tr></tbody></table><h2 id="系统架构图" tabindex="-1">系统架构图 <a class="header-anchor" href="#系统架构图" aria-label="Permalink to &quot;系统架构图&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>Client/前端</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Gateway Service (8080)</span></span>
<span class="line"><span>API网关/限流</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>System Upload Search</span></span>
<span class="line"><span>Service Service Service</span></span>
<span class="line"><span>(8100) (8400) (8500)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Admin Notice Dispatch</span></span>
<span class="line"><span>Service Service Service</span></span>
<span class="line"><span>(8200) (8600) (8700)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>基础设施/中间件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Nacos MySQL Redis</span></span>
<span class="line"><span>RabbitMQ ES Keycloak</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="服务端口规划" tabindex="-1">服务端口规划 <a class="header-anchor" href="#服务端口规划" aria-label="Permalink to &quot;服务端口规划&quot;">​</a></h2><table tabindex="0"><thead><tr><th>服务</th><th>端口</th><th>说明</th></tr></thead><tbody><tr><td>gateway-service</td><td>8080</td><td>API网关</td></tr><tr><td>system-service</td><td>8100</td><td>系统服务</td></tr><tr><td>admin-service</td><td>8200</td><td>管理服务</td></tr><tr><td>upload-service</td><td>8400</td><td>上传服务</td></tr><tr><td>search-service</td><td>8500</td><td>搜索服务</td></tr><tr><td>notice-service</td><td>8600</td><td>通知服务</td></tr><tr><td>dispatch-service</td><td>8700</td><td>调度服务</td></tr></tbody></table><h2 id="基础设施" tabindex="-1">基础设施 <a class="header-anchor" href="#基础设施" aria-label="Permalink to &quot;基础设施&quot;">​</a></h2><h3 id="服务注册中心" tabindex="-1">服务注册中心 <a class="header-anchor" href="#服务注册中心" aria-label="Permalink to &quot;服务注册中心&quot;">​</a></h3><ul><li><strong>Nacos</strong>: 127.0.0.1:8848</li></ul><h3 id="消息队列" tabindex="-1">消息队列 <a class="header-anchor" href="#消息队列" aria-label="Permalink to &quot;消息队列&quot;">​</a></h3><ul><li><strong>RabbitMQ</strong>: 106.52.209.154:5672</li><li>用户名: root</li><li>密码: 123456</li><li>虚拟主机: /root</li></ul><h3 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h3><ul><li><strong>Redis</strong>: 127.0.0.1:6379</li></ul><h3 id="数据库" tabindex="-1">数据库 <a class="header-anchor" href="#数据库" aria-label="Permalink to &quot;数据库&quot;">​</a></h3><ul><li><strong>MySQL</strong>: localhost:3306</li><li>btc_saas_main - 主数据库</li><li>bellis_log - 日志数据库</li></ul><h3 id="搜索引擎" tabindex="-1">搜索引擎 <a class="header-anchor" href="#搜索引擎" aria-label="Permalink to &quot;搜索引擎&quot;">​</a></h3><ul><li><strong>Elasticsearch</strong>: localhost:9200</li></ul><h3 id="认证服务" tabindex="-1">认证服务 <a class="header-anchor" href="#认证服务" aria-label="Permalink to &quot;认证服务&quot;">​</a></h3><ul><li><strong>Keycloak</strong>: 10.80.9.76:8080</li></ul><h2 id="核心特性" tabindex="-1">核心特性 <a class="header-anchor" href="#核心特性" aria-label="Permalink to &quot;核心特性&quot;">​</a></h2><h3 id="_1-异步数据操作" tabindex="-1">1. 异步数据操作 <a class="header-anchor" href="#_1-异步数据操作" aria-label="Permalink to &quot;1. 异步数据操作&quot;">​</a></h3><p>基于 RabbitMQ 的完整异步 CRUD 功能：</p><ul><li>异步新增（INSERT 操作）</li><li>异步更新（UPDATE 操作）</li><li>异步删除（DELETE 操作）</li><li>自动重试机制（最多3次）</li><li>死信队列处理</li><li>操作隔离（独立队列）</li></ul><h3 id="_2-多租户支持" tabindex="-1">2. 多租户支持 <a class="header-anchor" href="#_2-多租户支持" aria-label="Permalink to &quot;2. 多租户支持&quot;">​</a></h3><ul><li>租户数据隔离</li><li>租户权限隔离</li><li>租户配置独立</li><li>租户计费管理</li></ul><h3 id="_3-安全认证" tabindex="-1">3. 安全认证 <a class="header-anchor" href="#_3-安全认证" aria-label="Permalink to &quot;3. 安全认证&quot;">​</a></h3><ul><li>Keycloak 统一认证</li><li>OAuth2 授权</li><li>JWT 令牌</li><li>细粒度权限控制</li></ul><h3 id="_4-高可用设计" tabindex="-1">4. 高可用设计 <a class="header-anchor" href="#_4-高可用设计" aria-label="Permalink to &quot;4. 高可用设计&quot;">​</a></h3><ul><li>服务注册与发现</li><li>负载均衡</li><li>熔断降级</li><li>分布式事务</li></ul><h2 id="相关文档" tabindex="-1">相关文档 <a class="header-anchor" href="#相关文档" aria-label="Permalink to &quot;相关文档&quot;">​</a></h2><h3 id="服务详细文档" tabindex="-1">服务详细文档 <a class="header-anchor" href="#服务详细文档" aria-label="Permalink to &quot;服务详细文档&quot;">​</a></h3><ul><li><a href="./../guides/backend/gateway-service">Gateway Service</a> - API网关服务</li><li><a href="./../guides/backend/system-service">System Service</a> - 系统核心服务</li><li><a href="./../guides/backend/admin-service">Admin Service</a> - 后台管理服务</li><li><a href="./../guides/backend/upload-service">Upload Service</a> - 文件上传服务</li><li><a href="./../guides/backend/search-service">Search Service</a> - 搜索服务</li><li><a href="./../guides/backend/notice-service">Notice Service</a> - 通知服务</li><li><a href="./../guides/backend/dispatch-service">Dispatch Service</a> - 任务调度服务</li><li><a href="./../guides/backend/common">Common Module</a> - 公共模块</li></ul><h3 id="开发指南" tabindex="-1">开发指南 <a class="header-anchor" href="#开发指南" aria-label="Permalink to &quot;开发指南&quot;">​</a></h3><ul><li><a href="./../guides/backend/">后端开发指南</a> - 后端开发完整指南</li><li><a href="./../guides/api/">API文档</a> - API接口文档</li><li><a href="./../guides/deployment-guide">部署指南</a> - 部署配置指南</li></ul><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><h3 id="环境要求" tabindex="-1">环境要求 <a class="header-anchor" href="#环境要求" aria-label="Permalink to &quot;环境要求&quot;">​</a></h3><ul><li>JDK 17+</li><li>Maven 3.6+</li><li>MySQL 8.0+</li><li>Redis 5.0+</li><li>RabbitMQ 3.8+</li><li>Elasticsearch 7.x</li><li>Nacos 2.x</li></ul><h3 id="启动步骤" tabindex="-1">启动步骤 <a class="header-anchor" href="#启动步骤" aria-label="Permalink to &quot;启动步骤&quot;">​</a></h3><ol><li><strong>启动基础设施</strong>（MySQLRedisRabbitMQNacosElasticsearch）</li><li><strong>构建项目</strong>：<code>mvn clean install -DskipTests</code></li><li><strong>启动服务</strong>：先启动 Gateway 和 System 服务，再启动其他服务</li><li><strong>访问API文档</strong>：<a href="http://localhost:8080/swagger-ui.html" target="_blank" rel="noreferrer">http://localhost:8080/swagger-ui.html</a></li></ol><hr><p><strong>版本</strong>: 3.0.0 <strong>更新日期</strong>: 2025-10-14 <strong>维护团队</strong>: BTC开发团队</p></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("overview/backend-architecture.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const backendArchitecture = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  backendArchitecture as default
};
