// View Transition API 样式 - 支持主题切换动画
::view-transition-new(root),
::view-transition-old(root) {
  animation: none !important;
}

// 全局设置 --el-bg-color，确保子应用加载时就能使用正确的背景色
// 覆盖 Element Plus 默认的 #141414，统一使用 #0a0a0a
// 注意：CSS 变量不支持 !important，但可以通过选择器优先级覆盖
// 使用 html.dark 选择器（比 :root 优先级更高）确保覆盖 Element Plus 的样式
html.dark,
html.dark :root,
html.dark html {
  --el-bg-color: #0a0a0a;
}

// 暗黑模式样式
// 同时支持 html.dark 和 .dark，确保在 qiankun 样式隔离环境下也能正确应用
html.dark,
.dark {
  // Element Plus 组件背景色使用 #0a0a0a
  --el-bg-color: #0a0a0a;

  &::view-transition-old(root) {
    z-index: 100;
  }

  // 暗黑模式下的背景色层次
  // 注意：布局区域（顶栏、面包屑、tabbar、内容区域、侧边栏）的背景色样式已移至共享组件
  // @btc/shared-components/styles/dark-theme.css，所有应用自动应用
  // 组件级别的暗色主题样式也已移至共享组件库，确保在 qiankun 样式隔离环境下也能正确应用
  // 组件背景使用 Element Plus 的 --el-bg-color #0a0a0a
  // 全局背景使用 Element Plus 默认的暗色背景（不修改）
}

// 确保暗黑模式下的文本颜色正确
.dark {
  color-scheme: dark;
}

