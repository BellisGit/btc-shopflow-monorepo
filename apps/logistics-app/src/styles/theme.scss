// View Transition API 样式 - 支持主题切换动画
::view-transition-new(root),
::view-transition-old(root) {
  animation: none !important;
}

// 暗黑模式样式
html.dark {
  &::view-transition-old(root) {
    z-index: 100;
  }

  // 暗黑模式下的背景色层次（与 cool-admin 保持一致）
  // 整体页面背景使用较浅的深色
  // 组件背景（侧边栏、顶栏、内容卡片）使用 Element Plus 的 --el-bg-color（更深的黑色）
  // 这样形成两层对比，产生视觉分界

  // 调整暗黑模式下的表格背景色
  .el-table {
    --el-table-bg-color: var(--el-bg-color);
    --el-table-tr-bg-color: var(--el-bg-color);
    --el-table-row-hover-bg-color: var(--el-fill-color-light);

    &__header {
      .el-table__cell {
        background-color: var(--el-bg-color) !important;
      }
    }
  }

  // 优化暗黑模式下的遮罩层
  .el-overlay {
    background-size: 4px 4px;
    backdrop-filter: saturate(50%) blur(4px);
  }

  // CRUD 容器背景
  .crud-container {
    background-color: var(--el-bg-color) !important;
  }

  // 优化菜单在暗黑模式下的显示
  .el-menu {
    --el-menu-bg-color: var(--el-bg-color);
    --el-menu-hover-bg-color: var(--el-fill-color-light);
    --el-menu-text-color: var(--el-text-color-primary);
    --el-menu-active-color: var(--el-color-primary);
  }

  // 优化下拉菜单
  .el-dropdown-menu {
    --el-dropdown-menu-box-shadow: var(--el-box-shadow-light);
  }

  // 优化抽屉
  .el-drawer {
    --el-drawer-bg-color: var(--el-bg-color);
  }
}

// 确保暗黑模式下的文本颜色正确
.dark {
  color-scheme: dark;
}

