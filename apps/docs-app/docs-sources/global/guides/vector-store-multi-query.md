# å‘é‡æ•°æ®åº“å¤šæ¡ä»¶è”åˆæŸ¥è¯¢æŒ‡å—

## ğŸ“‹ é—®é¢˜èƒŒæ™¯

åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”¨æˆ·å¾€å¾€ä¸ä¼šè¯¦ç»†æŒ‡æ˜éœ€è¦å“ªäº›å…·ä½“ç»„ä»¶ï¼Œè€Œæ˜¯æè¿°ä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡åœºæ™¯ï¼ˆå¦‚"åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢"ï¼‰ã€‚ç³»ç»Ÿéœ€è¦ï¼š

1. **ç†è§£ä»»åŠ¡åœºæ™¯**ï¼šè¯†åˆ«ç”¨æˆ·æƒ³è¦åšä»€ä¹ˆ
2. **ç»„åˆæ¨è**ï¼šè‡ªåŠ¨æ¨èå®Œæ•´çš„èµ„æºç»„åˆï¼ˆå¸ƒå±€ + ç»„ä»¶ + Composables + å›¾æ ‡ + é…ç½®ç­‰ï¼‰
3. **å¤šæ¡ä»¶æŸ¥è¯¢**ï¼šæ”¯æŒå¤šä¸ªæŸ¥è¯¢è¯çš„ç»„åˆæœç´¢

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### 1. ä»»åŠ¡åœºæ™¯æ£€æµ‹

ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹ä»»åŠ¡åœºæ™¯ï¼ŒåŒ¹é…é¢„å®šä¹‰çš„åœºæ™¯æ¨¡æ¿ï¼š

```javascript
// è‡ªåŠ¨æ£€æµ‹åœºæ™¯
const scenario = detectTaskScenario('åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢');
// è¿”å›: 'crud-page'

// è·å–åœºæ™¯é…ç½®
const config = getScenarioConfig('crud-page');
// è¿”å›: {
//   name: 'CRUD é¡µé¢',
//   resourceTypes: {
//     layout: { type: 'component', query: 'å¸ƒå±€ layout', ... },
//     table: { type: 'component', query: 'è¡¨æ ¼ table', ... },
//     ...
//   }
// }
```

### 2. å¤šæ¡ä»¶è”åˆæŸ¥è¯¢

æ”¯æŒå°†å¤šä¸ªæŸ¥è¯¢è¯ç»„åˆæˆä¸€ä¸ªæŸ¥è¯¢ï¼š

```javascript
// åŸºç¡€æŸ¥è¯¢ + åœºæ™¯ç‰¹å®šæŸ¥è¯¢
const query = buildMultiQuery(
  'åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢',  // åŸºç¡€æŸ¥è¯¢
  ['å¸ƒå±€ layout', 'è¡¨æ ¼ table']  // åœºæ™¯ç‰¹å®šæŸ¥è¯¢
);
// ç»“æœ: "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ å¸ƒå±€ layout è¡¨æ ¼ table"
```

### 3. ä»»åŠ¡é©±åŠ¨çš„ç»„åˆæ¨è

æ ¹æ®åœºæ™¯é…ç½®ï¼Œè‡ªåŠ¨æ¨èå„ç§ç±»å‹çš„èµ„æºï¼š

```javascript
const recommendations = await smartRecommend('åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢');

// è‡ªåŠ¨æ¨èï¼š
// - å¸ƒå±€ç»„ä»¶ï¼ˆbtc-splitter ç­‰ï¼‰
// - è¡¨æ ¼ç»„ä»¶ï¼ˆbtc-master-table-group ç­‰ï¼‰
// - Composablesï¼ˆuseCrud ç­‰ï¼‰
// - å›¾æ ‡ï¼ˆæ“ä½œã€ç¼–è¾‘ã€åˆ é™¤ç­‰ï¼‰
// - å›½é™…åŒ–é…ç½®
```

## ğŸ”§ å®ç°ç»†èŠ‚

### åœºæ™¯é…ç½®

åœ¨ `task-scenarios.mjs` ä¸­å®šä¹‰åœºæ™¯ï¼š

```javascript
export const taskScenarios = {
  'crud-page': {
    name: 'CRUD é¡µé¢',
    keywords: ['crud', 'å¢åˆ æ”¹æŸ¥', 'åˆ—è¡¨é¡µé¢'],
    resourceTypes: {
      layout: {
        type: 'component',
        query: 'å¸ƒå±€ layout',
        limit: 3,
        filter: 'btc'  // åªè¿”å› btc-xxx ç»„ä»¶
      },
      table: {
        type: 'component',
        query: 'è¡¨æ ¼ table master-table-group',
        limit: 3,
        filter: 'btc'
      },
      composable: {
        type: 'composable',
        query: 'crud useCrud å¢åˆ æ”¹æŸ¥',
        limit: 3
      },
      // ...
    },
    priority: ['layout', 'table', 'composable', 'form', 'icon', 'locale']
  }
};
```

### æ™ºèƒ½æ¨èæµç¨‹

```
ç”¨æˆ·è¾“å…¥: "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢"
    â†“
æ£€æµ‹åœºæ™¯: detectTaskScenario() â†’ 'crud-page'
    â†“
è·å–é…ç½®: getScenarioConfig('crud-page')
    â†“
æŒ‰ä¼˜å…ˆçº§æœç´¢:
  1. layout â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ å¸ƒå±€ layout"
  2. table â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ è¡¨æ ¼ table master-table-group"
  3. composable â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ crud useCrud å¢åˆ æ”¹æŸ¥"
  4. form â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ è¡¨å• form"
  5. icon â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ æ“ä½œ ç¼–è¾‘ åˆ é™¤ æ–°å¢"
  6. locale â†’ æœç´¢ "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ crud å¢åˆ æ”¹æŸ¥"
    â†“
ç»„åˆç»“æœ: è¿”å›å®Œæ•´çš„èµ„æºç»„åˆ
```

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šCRUD é¡µé¢

```bash
node scripts/commands/skills/vector-store/smart-recommender.mjs "åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢"
```

**æ¨èç»“æœ**ï¼š
- âœ… å¸ƒå±€ç»„ä»¶ï¼šbtc-splitterï¼ˆåˆ†æ å¸ƒå±€ï¼‰
- âœ… è¡¨æ ¼ç»„ä»¶ï¼šbtc-master-table-groupï¼ˆä¸»è¡¨æ ¼ï¼‰
- âœ… CRUD ç»„ä»¶ï¼šcrud/tableï¼ˆCRUDè¡¨æ ¼ï¼‰
- âœ… Composablesï¼šuseCrudï¼ˆCRUDæ“ä½œï¼‰
- âœ… å›¾æ ‡ï¼šexport, import, edit, delete, plus
- âœ… å›½é™…åŒ–ï¼šconfig.ts

### ç¤ºä¾‹ 2ï¼šè¡¨å•é¡µé¢

```bash
node scripts/commands/skills/vector-store/smart-recommender.mjs "åˆ›å»ºä¸€ä¸ªè¡¨å•é¡µé¢"
```

**æ¨èç»“æœ**ï¼š
- âœ… å¸ƒå±€ç»„ä»¶ï¼šbtc-splitter
- âœ… è¡¨å•ç»„ä»¶ï¼šbtc-input, btc-select, btc-form
- âœ… Composablesï¼šuseFormï¼ˆè¡¨å•éªŒè¯ï¼‰
- âœ… å›¾æ ‡ï¼šæäº¤ã€ä¿å­˜ã€ç¡®è®¤

### ç¤ºä¾‹ 3ï¼šä»ªè¡¨ç›˜

```bash
node scripts/commands/skills/vector-store/smart-recommender.mjs "åˆ›å»ºä¸€ä¸ªæ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜"
```

**æ¨èç»“æœ**ï¼š
- âœ… å¸ƒå±€ç»„ä»¶ï¼šbtc-splitter
- âœ… å›¾è¡¨ç»„ä»¶ï¼šBtcBarChart, BtcLineChart, BtcPieChart
- âœ… å¡ç‰‡ç»„ä»¶ï¼šbtc-card
- âœ… Composablesï¼šå›¾è¡¨ç›¸å…³
- âœ… å›¾æ ‡ï¼šç»Ÿè®¡ã€æ•°æ®ã€å›¾è¡¨

## ğŸ”„ æ‰©å±•åœºæ™¯

### æ·»åŠ æ–°åœºæ™¯

åœ¨ `task-scenarios.mjs` ä¸­æ·»åŠ æ–°åœºæ™¯ï¼š

```javascript
export const taskScenarios = {
  // ... ç°æœ‰åœºæ™¯
  
  'search-page': {
    name: 'æœç´¢é¡µé¢',
    keywords: ['æœç´¢', 'search', 'æŸ¥è¯¢é¡µé¢'],
    resourceTypes: {
      layout: { type: 'component', query: 'å¸ƒå±€ layout', limit: 2, filter: 'btc' },
      search: { type: 'component', query: 'æœç´¢ search filter', limit: 3, filter: 'btc' },
      composable: { type: 'composable', query: 'search useSearch æœç´¢', limit: 2 },
      icon: { type: 'icon', query: 'æœç´¢ æŸ¥æ‰¾', limit: 5 },
    },
    priority: ['search', 'layout', 'composable', 'icon'],
  },
};
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. åœºæ™¯å…³é”®è¯è®¾è®¡

- ä½¿ç”¨å¸¸è§çš„ä¸­æ–‡å’Œè‹±æ–‡å…³é”®è¯
- è¦†ç›–ç”¨æˆ·å¯èƒ½çš„è¡¨è¾¾æ–¹å¼
- é¿å…è¿‡äºå®½æ³›çš„å…³é”®è¯

### 2. æŸ¥è¯¢ç­–ç•¥

- **åŸºç¡€æŸ¥è¯¢**ï¼šç”¨æˆ·çš„ä»»åŠ¡æè¿°
- **åœºæ™¯æŸ¥è¯¢**ï¼šåœºæ™¯ç‰¹å®šçš„æŸ¥è¯¢è¯
- **ç»„åˆæŸ¥è¯¢**ï¼šå°†ä¸¤è€…ç»„åˆï¼Œæé«˜å‡†ç¡®æ€§

### 3. ä¼˜å…ˆçº§è®¾è®¡

- æ ¸å¿ƒèµ„æºä¼˜å…ˆï¼ˆå¦‚ CRUD é¡µé¢çš„è¡¨æ ¼ç»„ä»¶ï¼‰
- è¾…åŠ©èµ„æºå…¶æ¬¡ï¼ˆå¦‚å›¾æ ‡ã€é…ç½®ï¼‰
- æŒ‰ä½¿ç”¨é¢‘ç‡æ’åº

### 4. è¿‡æ»¤ç­–ç•¥

- ç»„ä»¶ç±»å‹ï¼šåªè¿”å› btc-xxx æ ¼å¼çš„è‡ªå®šä¹‰ç»„ä»¶
- ç›¸ä¼¼åº¦é˜ˆå€¼ï¼šæ ¹æ®å‘é‡ç»´åº¦è°ƒæ•´ï¼ˆ384ç»´ç”¨0.2ï¼Œ1536ç»´ç”¨0.6ï¼‰
- æ•°é‡é™åˆ¶ï¼šæ¯ç§ç±»å‹é™åˆ¶æ¨èæ•°é‡

## ğŸ” å¤šæ¡ä»¶æŸ¥è¯¢åŸç†

### æŸ¥è¯¢ç»„åˆ

```javascript
// å•ä¸ªæŸ¥è¯¢
searchResources('è¡¨æ ¼', { resourceTypes: ['component'] })

// å¤šæ¡ä»¶æŸ¥è¯¢ï¼ˆç»„åˆï¼‰
searchResources('åˆ›å»ºä¸€ä¸ªç®€å•çš„CRUDé¡µé¢ è¡¨æ ¼ table master-table-group', {
  resourceTypes: ['component']
})
```

### å‘é‡æœç´¢

1. **ç”ŸæˆæŸ¥è¯¢å‘é‡**ï¼šå°†ç»„åˆæŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡
2. **ç›¸ä¼¼åº¦è®¡ç®—**ï¼šä¸ç´¢å¼•çš„èµ„æºå‘é‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦
3. **æ’åºè¿‡æ»¤**ï¼šæŒ‰ç›¸ä¼¼åº¦æ’åºï¼Œè¿‡æ»¤ä½åˆ†ç»“æœ

### ä¼˜åŠ¿

- âœ… **è¯­ä¹‰ç†è§£**ï¼šç†è§£ä»»åŠ¡ä¸Šä¸‹æ–‡
- âœ… **ç»„åˆæ¨è**ï¼šè‡ªåŠ¨æ¨èå®Œæ•´èµ„æºç»„åˆ
- âœ… **åœºæ™¯æ„ŸçŸ¥**ï¼šæ ¹æ®åœºæ™¯è°ƒæ•´æ¨èç­–ç•¥

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å‘é‡æ•°æ®åº“å®Œæ•´æŒ‡å—](./vector-store-complete-guide.md)
- [æœç´¢é—®é¢˜ä¿®å¤](./vector-store-search-fix.md)
- [æœ¬åœ° Embedding æŒ‡å—](./local-embedding-guide.md)
- [BTC ç»„ä»¶æ¨èå™¨ Skill](../.cursor/skills/btc-component-recommender/SKILL.md)

## âœ… æ€»ç»“

**å¤šæ¡ä»¶è”åˆæŸ¥è¯¢**ï¼š
- âœ… æ”¯æŒä»»åŠ¡åœºæ™¯æ£€æµ‹
- âœ… æ”¯æŒå¤šæŸ¥è¯¢è¯ç»„åˆ
- âœ… æ”¯æŒä»»åŠ¡é©±åŠ¨çš„ç»„åˆæ¨è

**ä½¿ç”¨æ–¹å¼**ï¼š
- åœ¨ Skills ä¸­è‡ªåŠ¨è°ƒç”¨ `smartRecommend()`
- æˆ–æ‰‹åŠ¨è¿è¡Œ `smart-recommender.mjs` è„šæœ¬

**æ‰©å±•æ€§**ï¼š
- å¯ä»¥è½»æ¾æ·»åŠ æ–°åœºæ™¯
- å¯ä»¥è°ƒæ•´åœºæ™¯é…ç½®
- å¯ä»¥è‡ªå®šä¹‰æ¨èç­–ç•¥

ç³»ç»Ÿç°åœ¨å¯ä»¥ç†è§£ä»»åŠ¡åœºæ™¯ï¼Œå¹¶è‡ªåŠ¨æ¨èå®Œæ•´çš„èµ„æºç»„åˆï¼ğŸ‰
