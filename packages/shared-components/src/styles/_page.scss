// ==================== .page 容器样式系统 ====================
// 基于 cool-admin-vue 设计，提供统一的页面级容器规范

// .page 基础容器（所有页面级路由的根元素）
.page {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  min-height: 0;
  position: relative;
  background-color: var(--el-bg-color);
  
  // 关键：确保子元素正确继承高度
  > * {
    flex-shrink: 0; // 防止内容被压缩
  }
  
  // BEM 子元素命名规范
  &__header {
    flex-shrink: 0;
    padding: 16px;
    background-color: var(--el-bg-color);
  }
  
  &__body {
    flex: 1;
    min-height: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  
  &__footer {
    flex-shrink: 0;
    padding: 16px;
    background-color: var(--el-bg-color);
  }
  
  // 内容区域（带内边距）
  &__content {
    padding: 16px;
    flex: 1;
    min-height: 0;
    overflow: auto;
  }
  
  // 滚动容器（自动管理滚动条）
  &__scroll {
    flex: 1;
    min-height: 0;
    overflow-y: auto;
    overflow-x: hidden;
    
    // 滚动条样式（参考 cool-admin-vue）
    &::-webkit-scrollbar {
      width: 6px;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 3px;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    
    &:hover::-webkit-scrollbar-thumb,
    &.is-scrolling::-webkit-scrollbar-thumb {
      opacity: 1;
    }
    
    // 暗色模式
    @media (prefers-color-scheme: dark) {
      &::-webkit-scrollbar-thumb {
        background-color: rgba(255, 255, 255, 0.2);
      }
    }
  }
  
  // 背景装饰层（类似错误页）
  &__bg {
    position: absolute;
    pointer-events: none;
    z-index: 0;
  }
  
  // 包装层（内容居中/对齐）
  &__wrap {
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 1;
    flex: 1;
    min-height: 0;
    width: 100%;
  }
  
  // 响应式适配
  @media only screen and (max-width: 768px) {
    padding: 8px;
    
    &__header,
    &__footer,
    &__content {
      padding: 12px;
    }
  }
}

// .page 变体类（特殊页面）
.page-login,
.page-error,
.page-404 {
  @extend .page;
  justify-content: center;
  align-items: center;
  
  // 确保错误页面的内容能够垂直居中
  > * {
    flex-shrink: 1; // 允许收缩，确保能够居中
  }
}

// 无滚动条页面
.page-no-scroll {
  overflow: hidden !important;
}

// 全屏页面（无内边距）
.page-fullscreen {
  padding: 0 !important;
}
