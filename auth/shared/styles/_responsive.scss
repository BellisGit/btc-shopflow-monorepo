@use 'variables' as *;

// 响应式设计 - 平板横屏（低高度）优化
// 当视口高度不足时，调整定位方式，避免登录框被截断
@media screen and (min-width: #{$auth-mobile-breakpoint + 1px}) and (max-height: 900px) {
	.auth-page {
		.login-card {
			top: 50% !important; // 保持垂直居中
			transform: translateY(-50%) !important; // 保持垂直居中变换
			max-height: calc(100vh - 40px) !important; // 限制最大高度，确保不超出视口
			height: auto !important; // 高度自适应
			overflow: hidden !important; // 隐藏滚动条，内容自适应高度
			
			.card-content {
				// 隐藏滚动条，内容自适应高度
				overflow: hidden !important;
				overflow-y: hidden !important;
				
				// 隐藏第三方登录 - 使用多种选择器确保生效
				.third-party-login,
				:deep(.third-party-login) {
					display: none !important;
				}
				
				// 调整登录表单区域的 flex 值，因为第三方登录已隐藏
				:deep(.login-form-layout) {
					flex: 1 !important; // 占据更多空间，因为第三方登录已隐藏
				}
			}
		}
	}
}

// 响应式设计 - 中等宽度屏幕（平板竖屏）优化
// 确保在中等宽度时，卡片有足够的右边距，避免右边框被截断
@media screen and (min-width: #{$auth-mobile-breakpoint + 1px}) and (max-width: 1200px) {
	.auth-page {
		.login-card {
			right: max(20px, 3%); // 至少保持 20px 的右边距，或使用 3% 的百分比
			max-width: calc(100vw - max(40px, 6%)); // 确保左右都有足够的间距
		}
	}
}

// 响应式设计
@media screen and (max-width: $auth-mobile-breakpoint) {
	.auth-page {
		.login-card {
			position: relative;
			right: auto;
			top: auto;
			transform: none;
			width: min(95vw, $auth-card-width); // 使用 95% 视口宽度，但不超过卡片原始宽度
			max-width: min(95vw, $auth-card-width);
			margin: 20px auto;

			.card-header {
				padding: 20px 20px 12px 20px;

				.title h1 {
					font-size: 18px;
				}
			}

			.login-tabs {
				padding-bottom: 10px;
				margin: 0 20px;

				.tabs-container {
					gap: 12px;
				}

				.tab {
					font-size: 14px;
					height: 28px;
					line-height: 28px;
					padding: 4px 16px;
				}

				.register-link {
					height: 28px;
					line-height: 28px;
					font-size: 13px;
				}

				.ink-bar {
					height: 2px;
				}
			}

			.card-content {
				padding: 20px;
			}
		}
	}
}

/* 小屏堆叠时，间距收窄 */
@media (max-width: $auth-small-breakpoint) {
	.page-login .login-card .login-tabs {
		.tabs-container {
			gap: 12px;
		}
	}
}
