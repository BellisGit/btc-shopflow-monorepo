name: Validate Environment

on:
  workflow_call:
    secrets:
      SERVER_KEY:
        description: 'SSH Private Key'
        required: false
      SERVER_HOST:
        description: 'Server Host IP'
        required: false
      SERVER_USER:
        description: 'Server User'
        required: false
      SERVER_PORT:
        description: 'Server Port'
        required: false
    outputs:
      ssh_validated:
        description: 'SSH connection validation result'
        value: ${{ jobs.validate-environment.outputs.ssh_validated }}

jobs:
  validate-environment:
    name: Validate Environment
    runs-on: ubuntu-latest
    outputs:
      ssh_validated: ${{ steps.ssh-check.outputs.validated }}
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Environment validation
      run: |
        echo "üîç Validating server environment..."
        echo "SSH connection was already validated in the first step"
        echo "‚úÖ Environment validation completed"
    
